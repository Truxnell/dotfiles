{{- $minimal := false -}}
{{- $headless := false -}}
{{- $secrets := true -}}
{{- $workconf := false -}}

{{- if (env "CI") -}}
{{- $headless = true -}}
{{- $secrets = false -}}
{{- end -}}

{{- if (env "SECRETS_OFF") -}}
{{- $secrets = false -}}
{{- end -}}

{{- if (env "DOTFILES_MINIMAL") -}}
{{- $minimal = true -}}
{{- $secrets = false -}}
{{- end }}

{{- if (env "WORKCONF") -}}
{{- $workconf = true -}}
{{- end -}}

{{- $name := "Nat Allan" -}}
{{- $email := "nat@natallan.com" -}}
{{- $github_user := "truxnell" -}}
{{- $maildir := "mail" -}}


{{- $personal_smtp_host := "mail.runbox.com" -}}
{{- $personal_smtp_port := 587 -}}
{{- $personal_imap_host := "mail.runbox.com" -}}
{{- $personal_imap_port := 443 -}}

{{- if (env "ASK") }}
{{- $minimal = promptBool "minimal" -}}
{{- end }}
sourceDir: {{ .chezmoi.sourceDir }}

data:
  secrets: {{ $secrets }}
  headless: {{ $headless }}
  minimal: {{ $minimal }}

  name: "Nat Allan"
  email: "nat@natallan.com"
  sync_dir: "{{ .chezmoi.sourceDir }}/private_dot_synctarget"

  maildir: {{ joinPath .chezmoi.homeDir $maildir }}
  {{- if not $minimal }}
  smtp_host: {{ $personal_smtp_host }}
  smtp_port: {{ $personal_smtp_port }}
  imap_host: {{ $personal_imap_host }}
  imap_port: {{ $personal_imap_port }}
  {{- end }}

{{- if $secrets }}
  bitwarden:
    spotify:
    spotify_api: 
    personal_mail:
    ssh_pub:
    ssh_priv:
    ssh:
    pgp_priv:
    lastfm:
    github_repo_token:
{{- end -}}
